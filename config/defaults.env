# Claude Talk - Default Configuration
# Override any value in ~/.claude-talk/config.env

# === Capture Mode ===
# wlk = WhisperLiveKit streaming (recommended, real-time)
# vad = energy-based VAD + whisper-cpp HTTP (legacy, batch)
CAPTURE_MODE=wlk

# === Audio ===
# Microphone device: "auto" to detect, or numeric index to override
# List devices: python3 -c "import sounddevice; print(sounddevice.query_devices())"
AUDIO_DEVICE=auto

# Microphone gain multiplier
# MacBook Pro built-in mic needs ~8.0, external USB mics ~1.0-2.0
MIC_GAIN=8.0

# === WhisperLiveKit (streaming mode) ===
WLK_PORT=8090
WLK_URL="ws://localhost:${WLK_PORT}/asr"

# === whisper-cpp (legacy/fallback mode) ===
WHISPER_PORT=8178
WHISPER_URL="http://localhost:${WHISPER_PORT}"
WHISPER_MODEL="$HOME/.claude-talk/models/ggml-small.en.bin"

# === Voice Activity Detection ===
# Speech energy threshold (raw int16 RMS). Ambient ~50, speech ~200+
VAD_THRESHOLD=200
# Seconds of silence to mark end of utterance
SILENCE_SECS=1.0

# === Barge-In Detection ===
# Uses BlackHole 2ch as TTS reference signal (Geigel double-talk detection)
# Auto-detects BlackHole; disabled if not found. Set BARGE_IN=false to force off.
BARGE_IN=true
# BLACKHOLE_DEVICE=  # auto-detect by default; set explicit index to override
BARGE_IN_RATIO=0.15

# === Text-to-Speech ===
# macOS say voice. Options: Daniel (UK), Karen (AU), Moira (IE), Samantha (US)
VOICE=Daniel

# === Audio Server ===
AUDIO_SERVER_PORT=8150

# === Python Virtual Environments ===
WLK_VENV="$HOME/.claude-talk/venvs/wlk"
VAD_VENV="$HOME/.claude-talk/venvs/vad"
